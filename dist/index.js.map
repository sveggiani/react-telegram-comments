{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nconst { useEffect, useRef } = React\n\nconst COMMENTS_APP_SCRIPT = \"https://comments.app/js/widget.js?3\";\n\ntype TelegramCommentsProps = {\n  commentsNumber: number,\n  containerClassName: string,\n  isDark: boolean,\n  showDislikes: boolean,\n  websiteKey: string,\n  wrapperClassName: string\n}\n\nconst TelegramCommentsDefaultProps = {\n  commentsNumber: 5,\n  containerClassName: \"telegram-comments\",\n  isDark: false,\n  showDislikes: true,\n  wrapperClassName: \"telegram-comments__wrapper\"\n};\n\nconst TelegramComments = ({\n  commentsNumber,\n  containerClassName,\n  isDark,\n  showDislikes,\n  websiteKey,\n  wrapperClassName\n}: TelegramCommentsProps) => {\n  \n  try {\n    // if no Website keys is passed do nothing\n    if (!websiteKey) {\n      throw new Error(\"Required websiteKey not provided;\");\n    }\n\n    const placeholderRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n      const script = document.createElement('script');\n  \n      script.src = COMMENTS_APP_SCRIPT;\n      script.async = true;\n      script.setAttribute(\n        'data-comments-app-website',\n        websiteKey\n      );\n      isDark && script.setAttribute('data-dark', \"1\");\n      showDislikes && script.setAttribute('data-dislikes', \"1\");\n      script.setAttribute('data-limit', commentsNumber as unknown as string);\n  \n      if (placeholderRef.current) {\n        placeholderRef.current.appendChild(script);\n      }\n    }, []);\n  \n    return (\n      <div className={containerClassName}>\n        <div className={wrapperClassName} ref={placeholderRef} />\n      </div>\n    );\n\n  } catch(e) {\n    console.error(e);\n    return null;\n  }\n};\n\nTelegramComments.defaultProps = TelegramCommentsDefaultProps;\n\nexport default TelegramComments;\n"],"names":["React.useEffect","React.useRef","React.createElement"],"mappings":";;;;AAEQ,IAAA,SAAS,GAAaA,eAAb,EAAE,MAAM,GAAKC,YAAL,CAAU;AAEnC,IAAM,mBAAmB,GAAG,qCAAqC,CAAC;AAWlE,IAAM,4BAA4B,GAAG;IACnC,cAAc,EAAE,CAAC;IACjB,kBAAkB,EAAE,mBAAmB;IACvC,MAAM,EAAE,KAAK;IACb,YAAY,EAAE,IAAI;IAClB,gBAAgB,EAAE,4BAA4B;CAC/C,CAAC;IAEI,gBAAgB,GAAG,UAAC,EAOF;QANtB,cAAc,oBAAA,EACd,kBAAkB,wBAAA,EAClB,MAAM,YAAA,EACN,YAAY,kBAAA,EACZ,UAAU,gBAAA,EACV,gBAAgB,sBAAA;IAGhB,IAAI;;QAEF,IAAI,CAAC,UAAU,EAAE;YACf,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;SACtD;QAED,IAAM,gBAAc,GAAG,MAAM,CAAiB,IAAI,CAAC,CAAC;QAEpD,SAAS,CAAC;YACR,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAEhD,MAAM,CAAC,GAAG,GAAG,mBAAmB,CAAC;YACjC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;YACpB,MAAM,CAAC,YAAY,CACjB,2BAA2B,EAC3B,UAAU,CACX,CAAC;YACF,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAChD,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;YAC1D,MAAM,CAAC,YAAY,CAAC,YAAY,EAAE,cAAmC,CAAC,CAAC;YAEvE,IAAI,gBAAc,CAAC,OAAO,EAAE;gBAC1B,gBAAc,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;aAC5C;SACF,EAAE,EAAE,CAAC,CAAC;QAEP,QACEC,6BAAK,SAAS,EAAE,kBAAkB;YAChCA,6BAAK,SAAS,EAAE,gBAAgB,EAAE,GAAG,EAAE,gBAAc,GAAI,CACrD,EACN;KAEH;IAAC,OAAM,CAAC,EAAE;QACT,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACjB,OAAO,IAAI,CAAC;KACb;AACH,EAAE;AAEF,gBAAgB,CAAC,YAAY,GAAG,4BAA4B;;;;"}