{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nconst { useEffect, useRef } = React\n\nconst COMMENTS_APP_SCRIPT = \"https://comments.app/js/widget.js?3\";\n\ntype TelegramCommentsProps = {\n  customColor: string,\n  customHeight: number,\n  commentsNumber: number,\n  containerClassName: string,\n  isDark: boolean,\n  pageId: string,\n  showColorfulNames: boolean,\n  showDislikes: boolean,\n  showIconOutlines: boolean,\n  websiteKey: string,\n  wrapperClassName: string\n}\n\n<script async src=\"https://comments.app/js/widget.js?3\"  data-height=\"300\" data-page-id=\"myPage\" data-color=\"8EC6EB\" data-outlined=\"1\" data-colorful=\"1\" data-dark=\"1\"></script>\n\nconst TelegramCommentsDefaultProps = {\n  commentsNumber: 5,\n  containerClassName: \"telegram-comments\",\n  isDark: false,\n  showColorfulNames: false,\n  showDislikes: true,\n  wrapperClassName: \"telegram-comments__wrapper\"\n};\n\nconst TelegramComments = ({\n  customColor,\n  customHeight,\n  commentsNumber,\n  containerClassName,\n  isDark,\n  pageId,\n  showColorfulNames,\n  showDislikes,\n  showIconOutlines,\n  websiteKey,\n  wrapperClassName\n}: TelegramCommentsProps) => {\n  \n  try {\n    // if no Website keys is passed do nothing\n    if (!websiteKey) {\n      throw new Error(\"Required websiteKey not provided;\");\n    }\n\n    const placeholderRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n      const script = document.createElement('script');\n  \n      script.src = COMMENTS_APP_SCRIPT;\n      script.async = true;\n\n      customColor && script.setAttribute('data-color', customColor);\n      customHeight && script.setAttribute('data-height', customHeight as unknown as string);\n      script.setAttribute('data-limit', commentsNumber as unknown as string);\n      isDark && script.setAttribute('data-dark', \"1\");\n      pageId && script.setAttribute('data-page-id', pageId);\n      showColorfulNames && script.setAttribute('data-colorful', \"1\");\n      showDislikes && script.setAttribute('data-dislikes', \"1\");\n      showIconOutlines && script.setAttribute('data-outlined', \"1\");\n      script.setAttribute(\n        'data-comments-app-website',\n        websiteKey\n      );\n  \n      if (placeholderRef.current) {\n        placeholderRef.current.appendChild(script);\n      }\n    }, []);\n  \n    return (\n      <div className={containerClassName}>\n        <div className={wrapperClassName} ref={placeholderRef} />\n      </div>\n    );\n\n  } catch(e) {\n    console.error(e);\n    return null;\n  }\n};\n\nTelegramComments.defaultProps = TelegramCommentsDefaultProps;\n\nexport default TelegramComments;\n"],"names":["React.useEffect","React.useRef","React.createElement"],"mappings":";;;;AAEQ,IAAA,SAAS,GAAaA,eAAb,EAAE,MAAM,GAAKC,YAAL,CAAU;AAEnC,IAAM,mBAAmB,GAAG,qCAAqC,CAAC;AAgBlEC,gCAAQ,KAAK,QAAC,GAAG,EAAC,qCAAqC,iBAAc,KAAK,kBAAc,QAAQ,gBAAY,QAAQ,mBAAe,GAAG,mBAAe,GAAG,eAAW,GAAG,GAAU,CAAA;AAEhL,IAAM,4BAA4B,GAAG;IACnC,cAAc,EAAE,CAAC;IACjB,kBAAkB,EAAE,mBAAmB;IACvC,MAAM,EAAE,KAAK;IACb,iBAAiB,EAAE,KAAK;IACxB,YAAY,EAAE,IAAI;IAClB,gBAAgB,EAAE,4BAA4B;CAC/C,CAAC;IAEI,gBAAgB,GAAG,UAAC,EAYF;QAXtB,WAAW,iBAAA,EACX,YAAY,kBAAA,EACZ,cAAc,oBAAA,EACd,kBAAkB,wBAAA,EAClB,MAAM,YAAA,EACN,MAAM,YAAA,EACN,iBAAiB,uBAAA,EACjB,YAAY,kBAAA,EACZ,gBAAgB,sBAAA,EAChB,UAAU,gBAAA,EACV,gBAAgB,sBAAA;IAGhB,IAAI;;QAEF,IAAI,CAAC,UAAU,EAAE;YACf,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;SACtD;QAED,IAAM,gBAAc,GAAG,MAAM,CAAiB,IAAI,CAAC,CAAC;QAEpD,SAAS,CAAC;YACR,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAEhD,MAAM,CAAC,GAAG,GAAG,mBAAmB,CAAC;YACjC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;YAEpB,WAAW,IAAI,MAAM,CAAC,YAAY,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;YAC9D,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC,aAAa,EAAE,YAAiC,CAAC,CAAC;YACtF,MAAM,CAAC,YAAY,CAAC,YAAY,EAAE,cAAmC,CAAC,CAAC;YACvE,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAChD,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;YACtD,iBAAiB,IAAI,MAAM,CAAC,YAAY,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;YAC/D,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;YAC1D,gBAAgB,IAAI,MAAM,CAAC,YAAY,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;YAC9D,MAAM,CAAC,YAAY,CACjB,2BAA2B,EAC3B,UAAU,CACX,CAAC;YAEF,IAAI,gBAAc,CAAC,OAAO,EAAE;gBAC1B,gBAAc,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;aAC5C;SACF,EAAE,EAAE,CAAC,CAAC;QAEP,QACEA,6BAAK,SAAS,EAAE,kBAAkB;YAChCA,6BAAK,SAAS,EAAE,gBAAgB,EAAE,GAAG,EAAE,gBAAc,GAAI,CACrD,EACN;KAEH;IAAC,OAAM,CAAC,EAAE;QACT,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACjB,OAAO,IAAI,CAAC;KACb;AACH,EAAE;AAEF,gBAAgB,CAAC,YAAY,GAAG,4BAA4B;;;;"}